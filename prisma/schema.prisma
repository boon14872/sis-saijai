generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Customer {
  id       Int    @id @default(autoincrement())
  nickName String
  // Orders   Orders[] 
}

model Employee {
  id          Int      @id @default(autoincrement())
  firstName   String
  lastName    String
  email       String   @unique
  phoneNumber String
  position    String
  hireDate    DateTime
  salary      Float
}

model Product {
  id            Int           @id @default(autoincrement())
  productName   String
  category      String         
  price         Int
  toppings      Topping[] 
  details       ProductDetail[] // Relation to ProductDetail
  @@index([category])
}

model Topping {
  id         Int            @id @default(autoincrement())
  name       String
  products   Product[]
  price         Int
}
model Inventory {
  id              Int              @id @default(autoincrement())
  itemName        String
  quantity        Int
  productDetails  ProductDetail[]  // Inventory related to ProductDetail
}

model ProductDetail {
  id          Int        @id @default(autoincrement())
  detailName  String     // Item name, e.g. แก้ว (cup), หลอด (straw)
  quantity    Int        // Quantity needed for the product
  productId   Int        // Link to Product
  Product     Product    @relation(fields: [productId], references: [id])
  inventoryId Int        // Link to Inventory
  Inventory   Inventory  @relation(fields: [inventoryId], references: [id])
}



model Promotion {
  id            Int     @id @default(autoincrement())
  promotionName String  
  discountAmount Float
  startDate     DateTime
  endDate       DateTime?
}
